<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="https://cdn.bootcss.com/echarts/4.2.1-rc1/echarts-en.min.js"></script>
    <script src="data.js"></script>
</head>
<style>
    *{
        margin: 0;
        padding: 0;
        list-style: none;
    }
    html,body{
        width: 100%;
        height: 100%;
        overflow: hidden;
    }
    .container{
        width: 100%;
        height: 600px;
        box-sizing: border-box;
        padding: 50px;
    }

</style>
<body>
<div class="container">

</div>
<script>
   let container = document.querySelector('.container');
   let mycharts = echarts.init(container);
   let options ={
       backgroundColor: '#2c343c',
       title: {
           text: '电影',
           left: 'center',
           top: 20,
           textStyle: {
               color: '#ccc'
           }
       },
       series:[
           {
               name:'电影',
               type:'pie',
               data:[]
           }
       ]
   };


   let arr=[];
   for (let i=0;i<categories.length;i++){
       if (i==0){continue};
       let name = categories[i];
       let value = data.filter(ele=>ele[4].includes(name)).length;
       arr.push({name,value})

   }

   options.series[0].data=arr;
   mycharts.setOption(options)
</script>

</body>
</html>